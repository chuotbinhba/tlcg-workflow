# HÆ°á»›ng dáº«n Test - Phiáº¿u Thu/Chi

## ğŸš€ File Ä‘á»ƒ test

**File:** `phieu_thu_chi_auto_email_working (final).html`

ÄÃ¢y lÃ  file Ä‘á»™c láº­p, táº¥t cáº£ code trong 1 file, dá»… test nháº¥t.

## âœ… Checklist Test

### 1. Test CÆ¡ báº£n
- [ ] Má»Ÿ file trong trÃ¬nh duyá»‡t
- [ ] Form hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§
- [ ] Dropdown cÃ³ dá»¯ liá»‡u (CÃ´ng ty, NhÃ¢n viÃªn, v.v.)
- [ ] Sá»‘ phiáº¿u tá»± Ä‘á»™ng generate
- [ ] NgÃ y tá»± Ä‘á»™ng Ä‘iá»n

### 2. Test Validation
- [ ] Bá» trá»‘ng trÆ°á»ng báº¯t buá»™c â†’ Hiá»ƒn thá»‹ lá»—i mÃ u Ä‘á»
- [ ] Äiá»n Ä‘Ãºng â†’ Border chuyá»ƒn xanh
- [ ] Error message hiá»ƒn thá»‹ dÆ°á»›i má»—i field
- [ ] Click "LÆ°u phiáº¿u" khi thiáº¿u thÃ´ng tin â†’ Hiá»ƒn thá»‹ lá»—i

### 3. Test Báº£ng Chi tiáº¿t
- [ ] Click "ThÃªm dÃ²ng" â†’ ThÃªm dÃ²ng má»›i
- [ ] Nháº­p ná»™i dung vÃ  sá»‘ tiá»n
- [ ] Tá»•ng cá»™ng tá»± Ä‘á»™ng tÃ­nh
- [ ] Sá»‘ tiá»n báº±ng chá»¯ tá»± Ä‘á»™ng cáº­p nháº­t
- [ ] Click Ã— Ä‘á»ƒ xÃ³a dÃ²ng â†’ CÃ³ confirmation dialog

### 4. Test File Upload
- [ ] Click "ÄÃ­nh kÃ¨m" â†’ Chá»n file
- [ ] Upload áº£nh â†’ Hiá»ƒn thá»‹ thumbnail
- [ ] Click vÃ o áº£nh â†’ Má»Ÿ preview modal
- [ ] Upload PDF â†’ CÃ³ nÃºt Preview
- [ ] Click Preview â†’ Má»Ÿ PDF trong modal
- [ ] Upload file > 10MB â†’ Hiá»ƒn thá»‹ lá»—i
- [ ] Click Ã— trÃªn file â†’ XÃ³a file

### 5. Test Excel Import/Export
- [ ] Click "DÃ¡n tá»« Excel" â†’ DÃ¡n dá»¯ liá»‡u tá»« clipboard
- [ ] Click "Nháº­p file Excel" â†’ Chá»n file Excel
- [ ] Click "Xuáº¥t Excel" â†’ Táº£i file Excel vá»›i 3 sheets
- [ ] Má»Ÿ file Excel â†’ Kiá»ƒm tra dá»¯ liá»‡u Ä‘Ãºng

### 6. Test Auto-save
- [ ] Äiá»n má»™t sá»‘ thÃ´ng tin
- [ ] Äá»£i 2 giÃ¢y â†’ Hiá»ƒn thá»‹ "ÄÃ£ lÆ°u tá»± Ä‘á»™ng"
- [ ] Refresh trang â†’ Dá»¯ liá»‡u Ä‘Æ°á»£c khÃ´i phá»¥c
- [ ] Indicator hiá»ƒn thá»‹ "Äang lÆ°u..." khi Ä‘ang lÆ°u

### 7. Test Template
- [ ] Äiá»n Ä‘áº§y Ä‘á»§ form
- [ ] Click "LÆ°u Template" â†’ Nháº­p tÃªn template
- [ ] Clear form
- [ ] Click "Load Template" â†’ Chá»n template
- [ ] Dá»¯ liá»‡u Ä‘Æ°á»£c load láº¡i

### 8. Test Search Dropdown
- [ ] Click vÃ o dropdown "CÃ´ng ty"
- [ ] GÃµ tÃªn cÃ´ng ty â†’ Filter options
- [ ] Chá»n option â†’ Value Ä‘Æ°á»£c set
- [ ] Test vá»›i cÃ¡c dropdown khÃ¡c (NhÃ¢n viÃªn, NgÆ°á»i phÃª duyá»‡t)

### 9. Test Gá»­i Email (Google Apps Script)
- [ ] Äiá»n Ä‘áº§y Ä‘á»§ form
- [ ] Chá»n ngÆ°á»i phÃª duyá»‡t
- [ ] Click "Gá»­i phÃª duyá»‡t"
- [ ] Kiá»ƒm tra email Ä‘Ã£ Ä‘Æ°á»£c gá»­i
- [ ] Kiá»ƒm tra email cÃ³ Ä‘áº§y Ä‘á»§ thÃ´ng tin
- [ ] Kiá»ƒm tra email cÃ³ báº£ng chi tiáº¿t

### 10. Test Google Sheets Sync
- [ ] Táº¡o Google Sheet má»›i
- [ ] Copy Spreadsheet ID tá»« URL
- [ ] Äiá»n Ä‘áº§y Ä‘á»§ form
- [ ] Click "Äá»“ng bá»™ vá»›i Google Sheets"
- [ ] Nháº­p Spreadsheet ID
- [ ] Kiá»ƒm tra dá»¯ liá»‡u Ä‘Ã£ Ä‘Æ°á»£c ghi vÃ o sheet
- [ ] Kiá»ƒm tra sheet cÃ³ header format Ä‘áº¹p
- [ ] Kiá»ƒm tra sheet chi tiáº¿t Ä‘Æ°á»£c táº¡o

### 11. Test PDF Export
- [ ] Äiá»n Ä‘áº§y Ä‘á»§ form
- [ ] Click "Xuáº¥t PDF"
- [ ] File PDF Ä‘Æ°á»£c táº£i vá»
- [ ] Má»Ÿ PDF â†’ Kiá»ƒm tra format Ä‘Ãºng

### 12. Test Toast Notifications
- [ ] Thá»±c hiá»‡n cÃ¡c action â†’ Toast hiá»ƒn thá»‹
- [ ] Toast tá»± Ä‘á»™ng áº©n sau 5 giÃ¢y
- [ ] Click Ã— trÃªn toast â†’ ÄÃ³ng ngay
- [ ] Toast cÃ³ mÃ u sáº¯c Ä‘Ãºng (success/error/info/warning)

### 13. Test Confirmation Dialogs
- [ ] Click Ã— Ä‘á»ƒ xÃ³a dÃ²ng â†’ Hiá»ƒn thá»‹ dialog
- [ ] Click "Há»§y" â†’ KhÃ´ng xÃ³a
- [ ] Click "XÃ¡c nháº­n" â†’ XÃ³a dÃ²ng

### 14. Test Error Handling
- [ ] Gá»­i email khi chÆ°a cáº¥u hÃ¬nh URL â†’ Hiá»ƒn thá»‹ cáº£nh bÃ¡o
- [ ] Sync khi chÆ°a cÃ³ Sheets ID â†’ Prompt nháº­p ID
- [ ] Sync khi sheet chÆ°a share â†’ Hiá»ƒn thá»‹ lá»—i rÃµ rÃ ng

## ğŸ› CÃ¡c lá»—i thÆ°á»ng gáº·p khi test

### Lá»—i: "Cannot access spreadsheet"
**NguyÃªn nhÃ¢n:** Sheet chÆ°a Ä‘Æ°á»£c share vá»›i Google Apps Script
**Giáº£i phÃ¡p:** Share sheet vá»›i email Google Apps Script (quyá»n Editor)

### Lá»—i: Email khÃ´ng Ä‘Æ°á»£c gá»­i
**NguyÃªn nhÃ¢n:** 
- Google Apps Script chÆ°a Ä‘Æ°á»£c cáº¥p quyá»n Gmail
- URL chÆ°a Ä‘Ãºng
**Giáº£i phÃ¡p:** 
- Kiá»ƒm tra quyá»n trong Google Apps Script
- Kiá»ƒm tra URL Ä‘Ã£ Ä‘Ãºng chÆ°a

### Lá»—i: "Script timeout"
**NguyÃªn nhÃ¢n:** Request quÃ¡ lÃ¢u
**Giáº£i phÃ¡p:** 
- Kiá»ƒm tra káº¿t ná»‘i máº¡ng
- Kiá»ƒm tra sheet Ä‘Ã£ share chÆ°a
- Xem logs trong Google Apps Script

### Lá»—i: Dá»¯ liá»‡u khÃ´ng khÃ´i phá»¥c
**NguyÃªn nhÃ¢n:** localStorage bá»‹ clear
**Giáº£i phÃ¡p:** 
- Kiá»ƒm tra browser cho phÃ©p localStorage
- KhÃ´ng dÃ¹ng cháº¿ Ä‘á»™ Incognito

## ğŸ“ Test Cases Chi tiáº¿t

### Test Case 1: Táº¡o phiáº¿u má»›i hoÃ n chá»‰nh
1. Má»Ÿ file
2. Chá»n cÃ´ng ty
3. Chá»n loáº¡i phiáº¿u: "Chi"
4. Chá»n nhÃ¢n viÃªn
5. Nháº­p ngÆ°á»i ná»™p/nháº­n
6. Chá»n loáº¡i tiá»n: "VND"
7. ThÃªm 3 dÃ²ng chi tiáº¿t vá»›i sá»‘ tiá»n
8. Upload file Ä‘Ã­nh kÃ¨m
9. Nháº­p lÃ½ do
10. Chá»n ngÆ°á»i phÃª duyá»‡t
11. Click "LÆ°u phiáº¿u"
12. **Expected:** Toast "Phiáº¿u Ä‘Ã£ Ä‘Æ°á»£c lÆ°u thÃ nh cÃ´ng!"

### Test Case 2: Gá»­i email phÃª duyá»‡t
1. Äiá»n Ä‘áº§y Ä‘á»§ form (theo Test Case 1)
2. Click "Gá»­i phÃª duyá»‡t"
3. **Expected:** 
   - Loading indicator hiá»ƒn thá»‹
   - Email Ä‘Æ°á»£c gá»­i thÃ nh cÃ´ng
   - Toast "ÄÃ£ gá»­i yÃªu cáº§u phÃª duyá»‡t"
   - Tráº¡ng thÃ¡i chuyá»ƒn "ÄÃ£ gá»­i phÃª duyá»‡t"
   - Lá»‹ch sá»­ phÃª duyá»‡t Ä‘Æ°á»£c cáº­p nháº­t

### Test Case 3: Äá»“ng bá»™ Google Sheets
1. Táº¡o Google Sheet má»›i
2. Share vá»›i email Google Apps Script
3. Copy Spreadsheet ID
4. Äiá»n Ä‘áº§y Ä‘á»§ form
5. Click "Äá»“ng bá»™ vá»›i Google Sheets"
6. Nháº­p Spreadsheet ID
7. **Expected:**
   - Loading spinner hiá»ƒn thá»‹
   - Toast "ÄÃ£ Ä‘á»“ng bá»™ thÃ nh cÃ´ng"
   - Dá»¯ liá»‡u xuáº¥t hiá»‡n trong sheet
   - Sheet chi tiáº¿t Ä‘Æ°á»£c táº¡o

### Test Case 4: Template
1. Äiá»n form vá»›i dá»¯ liá»‡u thÆ°á»ng dÃ¹ng
2. Click "LÆ°u Template" â†’ Nháº­p tÃªn "Template Test"
3. Clear toÃ n bá»™ form
4. Click "Load Template" â†’ Chá»n "Template Test"
5. **Expected:**
   - Táº¥t cáº£ dá»¯ liá»‡u Ä‘Æ°á»£c load láº¡i
   - Báº£ng chi tiáº¿t Ä‘Æ°á»£c khÃ´i phá»¥c

## âœ… Káº¿t quáº£ mong Ä‘á»£i

Sau khi test, báº¡n sáº½ cÃ³:
- âœ… Form hoáº¡t Ä‘á»™ng mÆ°á»£t mÃ 
- âœ… Validation real-time
- âœ… Auto-save hoáº¡t Ä‘á»™ng
- âœ… Email Ä‘Æ°á»£c gá»­i tá»± Ä‘á»™ng
- âœ… Dá»¯ liá»‡u sync vÃ o Google Sheets
- âœ… Táº¥t cáº£ tÃ­nh nÄƒng má»›i hoáº¡t Ä‘á»™ng tá»‘t

## ğŸ¯ Next Steps sau khi test

1. Náº¿u cÃ³ lá»—i â†’ BÃ¡o láº¡i Ä‘á»ƒ fix
2. Náº¿u hoáº¡t Ä‘á»™ng tá»‘t â†’ CÃ³ thá»ƒ deploy
3. CÃ³ thá»ƒ tÃ¹y chá»‰nh thÃªm theo nhu cáº§u


